"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["220"],{5731:function(e,n,t){t.r(n),t.d(n,{default:()=>h});var a=t(2676),r=t(453),s=t(3625),i=t(7500),l=t(7910),c=t(6714);function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",pre:"pre",code:"code"},(0,r.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"代码示例",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码示例",children:"#"}),"代码示例"]}),"\n",(0,a.jsxs)(n.h2,{id:"展示模式",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#展示模式",children:"#"}),"展示模式"]}),"\n",(0,a.jsxs)(c.Z,{isMobile:"false",demoId:"_docs_Draw_1",children:[(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import type { CanvasDrawProps } from '@canvas-draw/react';\nimport { CanvasDraw } from '@canvas-draw/react';\nimport React from 'react';\n// @ts-expect-error 忽略报错\nimport testImg from './assets/test.jpg';\nimport { ImageDraw } from './components/ImageDraw';\n\nconst data = [\n  {\n    points: [\n      { x: 1082, y: 443 },\n      { x: 1086, y: 1022 },\n      { x: 1839, y: 1041 },\n      { x: 1881, y: 513 },\n      { x: 1766, y: 262 },\n    ],\n  },\n  {\n    type: 'rectangle',\n    data: {\n      rect: { x: 5, y: 5, width: 200, height: 400 },\n    },\n  },\n  {\n    type: 'circle',\n    data: {\n      rect: { x: 100, y: 100, width: 200, height: 300 },\n    },\n  },\n];\n\nfunction Example() {\n  const [value] = React.useState(data as CanvasDrawProps['value']);\n\n  return (\n    <>\n      <ImageDraw src={testImg}>\n        {(imageSize, drawAreaSize) => {\n          return (\n            <CanvasDraw\n              shape=\"rectangle\"\n              axis={imageSize}\n              width={drawAreaSize.width}\n              height={drawAreaSize.height}\n              value={value}\n              shapeStyle={{\n                fillStyle: 'rgba(255, 77, 82, 0.15)',\n                strokeStyle: '#FF4D52',\n              }}\n            />\n          );\n        }}\n      </ImageDraw>\n    </>\n  );\n};\n\nexport default Example;\n"})})}),(0,a.jsx)(s.default,{})]}),"\n",(0,a.jsxs)(n.h2,{id:"选择模式",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#选择模式",children:"#"}),"选择模式"]}),"\n",(0,a.jsxs)(c.Z,{isMobile:"false",demoId:"_docs_Draw_2",children:[(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import type { CanvasDrawProps } from '@canvas-draw/react';\nimport { CanvasDraw } from '@canvas-draw/react';\nimport React from 'react';\n// @ts-expect-error 忽略报错\nimport testImg from './assets/test.jpg';\nimport { ImageDraw } from './components/ImageDraw';\n\nconst data = [\n  {\n    points: [\n      { x: 1082, y: 443 },\n      { x: 1086, y: 1022 },\n      { x: 1839, y: 1041 },\n      { x: 1881, y: 513 },\n      { x: 1766, y: 262 },\n    ],\n  },\n  {\n    type: 'rectangle',\n    data: {\n      rect: { x: 5, y: 5, width: 200, height: 400 },\n    },\n  },\n  {\n    type: 'circle',\n    data: {\n      rect: { x: 100, y: 100, width: 200, height: 300 },\n    },\n  },\n];\n\nfunction Example() {\n  const [value] = React.useState(data as CanvasDrawProps['value']);\n  const [selectedIndex, setSelectedIndex] = React.useState<number>(1);\n\n  const onSelect = (index: number) => {\n    setSelectedIndex(index);\n  };\n\n  return (\n    <>\n      <ImageDraw src={testImg}>\n        {(imageSize, drawAreaSize) => {\n          return (\n            <CanvasDraw\n              mode=\"select\"\n              axis={imageSize}\n              width={drawAreaSize.width}\n              height={drawAreaSize.height}\n              value={value}\n              selectedIndex={selectedIndex}\n              onSelect={onSelect}\n            />\n          );\n        }}\n      </ImageDraw>\n    </>\n  );\n};\n\nexport default Example;\n"})})}),(0,a.jsx)(i.default,{})]}),"\n",(0,a.jsxs)(n.h2,{id:"编辑模式",children:[(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编辑模式",children:"#"}),"编辑模式"]}),"\n",(0,a.jsxs)(c.Z,{isMobile:"false",demoId:"_docs_Draw_3",children:[(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import type { CanvasDrawProps } from '@canvas-draw/react';\nimport { CanvasDraw } from '@canvas-draw/react';\nimport React from 'react';\nimport { Button, Select, Space } from 'tdesign-react';\n// @ts-expect-error 忽略报错\nimport testImg from './assets/test.jpg';\nimport { ImageDraw } from './components/ImageDraw';\n\nconst buttonText = ['绘制区域', '取消绘制', '重新绘制'];\n\nfunction Example() {\n  const [value, setValue] = React.useState<CanvasDrawProps['value']>([]);\n  const [shape, setShape] = React.useState<CanvasDrawProps['shape']>('polygon');\n  const [buttonState, setButtonState] = React.useState<0 | 1 | 2>(0);\n\n  return (\n    <>\n      <Space style={{ marginBottom: 12 }}>\n        <Select\n          value={shape}\n          options={[\n            { label: '多边形', value: 'polygon' },\n            { label: '矩形', value: 'rectangle' },\n            { label: '圆形', value: 'circle' },\n          ]}\n          onChange={(val) => {\n            setShape(val as CanvasDrawProps['shape']);\n          }}\n        />\n        <Button\n          onClick={() => {\n            if (buttonState === 0) {\n              setButtonState(1);\n            } else if (buttonState === 1) {\n              setValue([]);\n              setButtonState(0);\n            } else {\n              setButtonState(1);\n              setValue([]);\n            }\n          }}\n        >\n          {buttonText[buttonState]}\n        </Button>\n      </Space>\n      <ImageDraw src={testImg}>\n        {(imageSize, drawAreaSize) => {\n          return (\n            <CanvasDraw\n              mode=\"edit\"\n              value={value}\n              shape={shape}\n              editableMaxSize={10}\n              axis={imageSize}\n              width={drawAreaSize.width}\n              height={drawAreaSize.height}\n              onChange={(val) => {\n                setButtonState(2);\n                setValue(val!);\n              }}\n            />\n          );\n        }}\n      </ImageDraw>\n    </>\n  );\n};\n\nexport default Example;\n"})})}),(0,a.jsx)(l.default,{})]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(d,e)})):d(e)}let h=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["docs%2FDraw.mdx"]={toc:[{id:"展示模式",text:"展示模式",depth:2},{id:"选择模式",text:"选择模式",depth:2},{id:"编辑模式",text:"编辑模式",depth:2}],title:"代码示例",headingTitle:"代码示例",frontmatter:{}}},3625:function(e,n,t){t.r(n),t.d(n,{default:()=>d});var a=t(2676),r=t(7525),s=t(5271),i=t(7692),l=t(4373);let c=[{points:[{x:1082,y:443},{x:1086,y:1022},{x:1839,y:1041},{x:1881,y:513},{x:1766,y:262}]},{type:"rectangle",data:{rect:{x:5,y:5,width:200,height:400}}},{type:"circle",data:{rect:{x:100,y:100,width:200,height:300}}}],d=function(){let[e]=s.useState(c);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.ImageDraw,{src:i,children:(n,t)=>(0,a.jsx)(r.J,{shape:"rectangle",axis:n,width:t.width,height:t.height,value:e,shapeStyle:{fillStyle:"rgba(255, 77, 82, 0.15)",strokeStyle:"#FF4D52"}})})})}},7910:function(e,n,t){t.r(n),t.d(n,{default:()=>x});var a=t(2676),r=t(7525),s=t(5271),i=t(1139),l=t(4221),c=t(9074),d=t(7692),o=t(4373);let h=["绘制区域","取消绘制","重新绘制"],x=function(){let[e,n]=s.useState([]),[t,x]=s.useState("polygon"),[m,u]=s.useState(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.T,{style:{marginBottom:12},children:[(0,a.jsx)(l.P,{value:t,options:[{label:"多边形",value:"polygon"},{label:"矩形",value:"rectangle"},{label:"圆形",value:"circle"}],onChange:e=>{x(e)}}),(0,a.jsx)(c.z,{onClick:()=>{0===m?u(1):1===m?(n([]),u(0)):(u(1),n([]))},children:h[m]})]}),(0,a.jsx)(o.ImageDraw,{src:d,children:(s,i)=>(0,a.jsx)(r.J,{mode:"edit",value:e,shape:t,editableMaxSize:10,axis:s,width:i.width,height:i.height,onChange:e=>{u(2),n(e)}})})]})}},7500:function(e,n,t){t.r(n),t.d(n,{default:()=>d});var a=t(2676),r=t(7525),s=t(5271),i=t(7692),l=t(4373);let c=[{points:[{x:1082,y:443},{x:1086,y:1022},{x:1839,y:1041},{x:1881,y:513},{x:1766,y:262}]},{type:"rectangle",data:{rect:{x:5,y:5,width:200,height:400}}},{type:"circle",data:{rect:{x:100,y:100,width:200,height:300}}}],d=function(){let[e]=s.useState(c),[n,t]=s.useState(1),d=e=>{t(e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.ImageDraw,{src:i,children:(t,s)=>(0,a.jsx)(r.J,{mode:"select",axis:t,width:s.width,height:s.height,value:e,selectedIndex:n,onSelect:d})})})}}}]);